[tool.ruff]
# 排除目录
exclude = [
    ".git",
    ".venv",
    "__pycache__",
    "build",
    "dist",
    "*.egg-info",
]

# 每行最大长度（根据现有代码风格）
line-length = 120

# Python版本
target-version = "py312"

# 启用的规则集
select = [
    "E",   # pycodestyle errors
    "W",   # pycodestyle warnings
    "F",   # pyflakes
    "I",   # isort
    "N",   # pep8-naming
    "UP",  # pyupgrade
    "B",   # flake8-bugbear
]

# 忽略的规则
ignore = [
    "E501",   # 行长度（在现有代码中较灵活）
    "B008",   # 函数调用默认参数（FastAPI依赖注入需要）
]

# 自动修复
fix = true

[tool.ruff.per-file-ignores]
# 测试文件可以有未使用的导入和较长的行
"tests/**/*.py" = ["F401", "E501"]
# __init__.py 可以有未使用的导入
"**/__init__.py" = ["F401"]

[tool.ruff.isort]
# 导入排序配置
known-first-party = ["app"]
